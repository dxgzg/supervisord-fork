import{_ as D,d as T,r as G,g as R,o as s,a as p,b as _,e as a,w as r,h as n,F as V,aL as h,a7 as f,l as I,i as k}from"./index.700ab168.js";import{p as U,a as P}from"./index.cdc415e1.js";const q={name:"baseform",setup(){const t=T([]);(()=>{P().then(d=>{console.log(d),console.log(d[0].children[0].api),t.value=d})})();const c=G({label:"",processName:"",bucket:"default",refTime:3,unRefTime:3,leftSize:500}),e={processGroupName:[{required:!0,message:"\u8BF7\u9009\u62E9\u8FDB\u7A0B\u7EC4",trigger:"blur"}],processName:[{required:!0,message:"\u8BF7\u9009\u62E9\u5177\u4F53\u7684\u8FDB\u7A0B",trigger:"blur"}],funcName:[{required:!0,message:"\u8BF7\u9009\u62E9\u64CD\u4F5C\u7684\u51FD\u6570",trigger:"blur"}]},m=T(null);return{rules:e,formRef:m,tableData:t,form:c,onSubmit:()=>{m.value.validate(d=>{if(d)R.success("\u63D0\u4EA4\u6210\u529F\uFF01");else return!1})},onReset:()=>{m.value.resetFields()}}},data(){return{groupIndex:-1,processIndex:-1}},methods:{setGroupIndex(t){this.groupIndex=t},setProcessIndex(t){this.processIndex=t},isShowProcessName(){let t=this.groupIndex;if(t===-1)return!1;let o=this.tableData[t].children;return o===void 0||o.length===0?!1:this.form.processGroupName},clearCache(){let t=!1;if(this.formRef.validate(e=>{if(t=e,e)R.success("\u63D0\u4EA4\u6210\u529F\uFF01");else return!1}),!t)return;let o=this.form,c={namespace:o.processName,bucket:o.bucket,refTime:o.refTime,unRefTime:o.unRefTime,leftSize:o.leftSize};console.log(c),U(c)}}},B={class:"crumbs"},F=_("i",{class:"el-icon-lx-calendar"},null,-1),L=k(" \u64CD\u4F5C\u8FDB\u7A0B "),E={class:"container"},M={class:"form-box"},O=k("\u8868\u5355\u63D0\u4EA4"),j=k("\u91CD\u7F6E\u8868\u5355");function A(t,o,c,e,m,i){const v=n("el-breadcrumb-item"),d=n("el-breadcrumb"),b=n("el-option"),g=n("el-select"),u=n("el-form-item"),w=n("el-radio"),y=n("el-radio-group"),x=n("el-input"),C=n("el-button"),S=n("el-form");return s(),p("div",null,[_("div",B,[a(d,{separator:"/"},{default:r(()=>[a(v,null,{default:r(()=>[F,L]),_:1})]),_:1})]),_("div",E,[_("div",M,[a(S,{ref:"formRef",rules:e.rules,model:e.form,"label-width":"80px","status-icon":""},{default:r(()=>[a(u,{label:"\u8FDB\u7A0B\u7EC4\u540D",prop:"processGroupName"},{default:r(()=>[a(g,{modelValue:e.form.processGroupName,"onUpdate:modelValue":o[0]||(o[0]=l=>e.form.processGroupName=l),placeholder:"\u8BF7\u9009\u62E9"},{default:r(()=>[(s(!0),p(V,null,h(e.tableData,(l,N)=>(s(),f(b,{key:l.label,label:l.label,value:l.label,onClick:z=>i.setGroupIndex(N)},null,8,["label","value","onClick"]))),128))]),_:1},8,["modelValue"])]),_:1}),i.isShowProcessName()?(s(),f(u,{key:0,label:"\u8FDB\u7A0B\u540D\u5B57",prop:"processName"},{default:r(()=>[a(g,{modelValue:e.form.processName,"onUpdate:modelValue":o[1]||(o[1]=l=>e.form.processName=l),placeholder:"\u8BF7\u9009\u62E9"},{default:r(()=>[(s(!0),p(V,null,h(e.tableData[m.groupIndex].children,(l,N)=>(s(),f(b,{key:l.label,label:l.label,value:l.label,onClick:z=>i.setProcessIndex(N)},null,8,["label","value","onClick"]))),128))]),_:1},8,["modelValue"])]),_:1})):I("",!0),e.form.processName?(s(),f(u,{key:1,label:"\u64CD\u4F5C\u51FD\u6570",prop:"funcName"},{default:r(()=>[a(g,{modelValue:e.form.funcName,"onUpdate:modelValue":o[2]||(o[2]=l=>e.form.funcName=l),placeholder:"\u8BF7\u9009\u62E9"},{default:r(()=>[(s(!0),p(V,null,h(e.tableData[m.groupIndex].children[m.processIndex].api,l=>(s(),f(b,{key:l.viewName,label:l.viewName,value:l.viewName},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})):I("",!0),a(u,{label:"bucket",prop:"bucket"},{default:r(()=>[a(y,{modelValue:e.form.bucket,"onUpdate:modelValue":o[3]||(o[3]=l=>e.form.bucket=l)},{default:r(()=>[a(w,{label:"default"})]),_:1},8,["modelValue"])]),_:1}),a(u,{label:"refTime",prop:"refTime"},{default:r(()=>[a(x,{modelValue:e.form.refTime,"onUpdate:modelValue":o[4]||(o[4]=l=>e.form.refTime=l),style:{width:"400px"}},null,8,["modelValue"])]),_:1}),a(u,{label:"unRefTime",prop:"unRefTime"},{default:r(()=>[a(x,{modelValue:e.form.unRefTime,"onUpdate:modelValue":o[5]||(o[5]=l=>e.form.unRefTime=l),style:{width:"400px"}},null,8,["modelValue"])]),_:1}),a(u,{label:"leftSize",prop:"leftSize"},{default:r(()=>[a(x,{modelValue:e.form.leftSize,"onUpdate:modelValue":o[6]||(o[6]=l=>e.form.leftSize=l),style:{width:"400px"}},null,8,["modelValue"])]),_:1}),a(u,null,{default:r(()=>[a(C,{type:"primary",onClick:i.clearCache},{default:r(()=>[O]),_:1},8,["onClick"]),a(C,{onClick:e.onReset},{default:r(()=>[j]),_:1},8,["onClick"])]),_:1})]),_:1},8,["rules","model"])])])])}const K=D(q,[["render",A]]);export{K as default};
